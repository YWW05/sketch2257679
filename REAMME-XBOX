# Kinect 流体粒子交互装置

## 项目描述
这是一个基于 Processing 和 Kinect v2 的交互式流体粒子装置。项目使用深度传感器捕捉人体运动，并将其转化为流体动力学效果，创造出梦幻般的粒子流动效果。当没有人体运动时，粒子会呈现出柔和的自然流动；当检测到人体运动时，粒子会随着运动方向产生互动效果。

## 特性
- 双模式运行：
  - 静态模式：无人时呈现柔和的自然流动
  - 交互模式：检测到人体时响应运动方向
- 实时深度感应
- 流畅的粒子动画效果
- 动态颜色渐变
- 全屏显示支持

## 技术细节
- 开发环境：Processing 4.0+
- 硬件要求：Kinect v2 深度传感器
- 粒子系统：8192个粒子 (2^13)
- 颜色系统：在亮粉色(255, 0, 255)和皇家蓝(65, 105, 225)之间渐变
- 深度检测范围：0.5米 - 1米

## 依赖库
- KinectPV2
- OpenCV for Processing
- PixelFlow

## 安装步骤
1. 硬件准备：
   - 安装 Kinect v2 传感器
   - 安装 Kinect for Windows SDK 2.0

2. 软件准备：
   - 安装 Processing 4.0 或更高版本
   - 通过 Processing 的库管理器安装所需依赖库

3. 项目设置：
   - 克隆或下载项目文件
   - 使用 Processing 打开主程序文件
   - 确保 Kinect 已正确连接
   - 运行程序

## 使用说明
1. 启动程序后会自动进入全屏模式
2. 站在距离 Kinect 0.5-1米的范围内
3. 移动身体来与粒子进行互动
4. 离开感应区域后，粒子会自动回到自然流动状态

## 参数调整
可以通过修改以下参数来调整效果：
- `baseFlowSpeed`：控制基础流动速度
- `flowNoiseScale`：控制流动模式大小
- `motionThreshold`：调整运动检测灵敏度
- `depthScale`：调整互动力度

## 故障排除
1. 确保 Kinect 正确连接并被系统识别
2. 检查环境光线是否适中
3. 确保站在有效感应范围内
4. 如果粒子反应不明显，可以调整 `motionThreshold` 和 `depthScale` 参数

## 性能建议
- 建议使用独立显卡运行
- 保持感应区域内没有其他干扰物
- 在光线适中的环境下使用

## 许可证
MIT License

## 致谢
- 基于 @noel 的流体模拟代码改编
- 使用了 Jos Stam 的 Navier-Stokes 求解器
- 感谢 Daniel Shiffman 的 Kinect 教程支持